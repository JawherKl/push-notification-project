<script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-messaging.js"></script>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyAgiS4T7u1bVwfuk3HqjHrNMOQ0DKXPO0c",
        authDomain: "push-notif-e4247.firebaseapp.com",
        projectId: "push-notif-e4247",
        storageBucket: "push-notif-e4247.firebasestorage.app",
        messagingSenderId: "480494569558",
        appId: "1:480494569558:web:75f56bcc38b86c905a13f7",
        measurementId: "G-9Y95CLNSC4"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const messaging = firebase.messaging();

    // Request permission to send notifications
    async function requestPermission() {
        try {
            await Notification.requestPermission();
            const token = await messaging.getToken();
            console.log('FCM Token:', token);
            // Send token to your Symfony backend to store and use it for notifications
        } catch (error) {
            console.error('Permission denied or error:', error);
        }
    }

    requestPermission();

    // Handle incoming notifications
    messaging.onMessage((payload) => {
        console.log('Message received:', payload);
        // Show notifications or handle them here
    });
</script>
